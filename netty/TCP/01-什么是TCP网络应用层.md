### 什么是TCP网络分层

**TCP/IP 四层模型** 是目前被广泛采用的一种模型,我们可以将 TCP / IP 模型看作是 OSI 七层模型的精简版本，由以下 4 层组成：

1. **应用层**
2. **传输层**
3. **网络层**
4. **网络接口层**

一个http报文到服务端必然经过的四层结构

1. 客户端在应用层组装HTTP报文 --> 然后发送到传输层
2. 在传输层添加TCP协议（TCP头，端口，序列号等或者添加UDP协议）--> 然后发送到网络层
3. 在网络层添加IP协议（IP头，源IP地址，目标IP地址等）--> 然后发送到网络接口层
4. 在网络接口层添加以太网信息（以太网头，MAC地址等）--> 然后通过物理层发送到对方的网络接口层
5. 服务端的网络接口层接收到信息根据以太网信息判断是否是发给自己的-->是往上传到网络层
6. 网络层解析IP报文，确定路由->往上传到传输层
7. 传输层解析TCP报文-->是往上传到应用层
8. 应用层进行HTTP报文解析

![](img\2022-08-19 233400.png)



这样分层的好处：

1. 各层独立：相互不影响，各层之间没有依赖关系
2. 灵活性更好：各层只需要加载自己层的协议就可以，比如路由不需要应用层和传输层
3. 易于测试：各层独立测试，相互不影响
4. 促进标准化：每层责任清晰





